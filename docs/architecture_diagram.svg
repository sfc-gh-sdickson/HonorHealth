<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#29B5E8">
    Honor Health Intelligence Agent Architecture
  </text>
  
  <!-- User Layer -->
  <rect x="300" y="60" width="200" height="50" rx="5" fill="#29B5E8" stroke="#1a7a9e" stroke-width="2"/>
  <text x="400" y="90" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
    Clinical Users
  </text>
  
  <!-- Arrow -->
  <line x1="400" y1="110" x2="400" y2="140" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="420" y="130" font-family="Arial, sans-serif" font-size="12" fill="#666">Natural Language</text>
  
  <!-- Intelligence Agent -->
  <rect x="250" y="140" width="300" height="60" rx="5" fill="#FF6B35" stroke="#cc5529" stroke-width="2"/>
  <text x="400" y="165" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
    Snowflake Intelligence Agent
  </text>
  <text x="400" y="185" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
    (Cortex Analyst + Agent Framework)
  </text>
  
  <!-- Three branches -->
  <line x1="300" y1="200" x2="150" y2="240" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="400" y1="200" x2="400" y2="240" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="500" y1="200" x2="650" y2="240" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Structured Data Branch -->
  <rect x="50" y="240" width="200" height="50" rx="5" fill="#4ECDC4" stroke="#3da39c" stroke-width="2"/>
  <text x="150" y="265" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">
    Structured Data
  </text>
  <text x="150" y="280" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
    (3 Semantic Views)
  </text>
  
  <!-- ML Predictions Branch -->
  <rect x="300" y="240" width="200" height="50" rx="5" fill="#9B59B6" stroke="#7d3c92" stroke-width="2"/>
  <text x="400" y="265" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">
    ML Predictions
  </text>
  <text x="400" y="280" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
    (3 ML Models)
  </text>
  
  <!-- Unstructured Data Branch -->
  <rect x="550" y="240" width="200" height="50" rx="5" fill="#F39C12" stroke="#c87f0a" stroke-width="2"/>
  <text x="650" y="265" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">
    Unstructured Data
  </text>
  <text x="650" y="280" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
    (3 Cortex Search)
  </text>
  
  <!-- Arrows to data sources -->
  <line x1="150" y1="290" x2="150" y2="330" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="400" y1="290" x2="400" y2="330" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="650" y1="290" x2="650" y2="330" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Data Sources -->
  <!-- Semantic Views Details -->
  <rect x="30" y="330" width="240" height="130" rx="5" fill="#E8F8F5" stroke="#4ECDC4" stroke-width="2"/>
  <text x="150" y="350" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">
    Semantic Views
  </text>
  <text x="40" y="370" font-family="Arial, sans-serif" font-size="10" fill="#555">
    • SV_PATIENT_HEALTH_OUTCOMES
  </text>
  <text x="40" y="390" font-family="Arial, sans-serif" font-size="10" fill="#555">
    • SV_SOCIAL_DETERMINANTS
  </text>
  <text x="40" y="410" font-family="Arial, sans-serif" font-size="10" fill="#555">
    • SV_VALUE_BASED_CARE
  </text>
  <text x="40" y="430" font-family="Arial, sans-serif" font-size="9" fill="#777">
    (Patients, SDOH, Encounters,
  </text>
  <text x="40" y="445" font-family="Arial, sans-serif" font-size="9" fill="#777">
    Quality Metrics, Providers)
  </text>
  
  <!-- ML Models Details -->
  <rect x="280" y="330" width="240" height="130" rx="5" fill="#F4ECF7" stroke="#9B59B6" stroke-width="2"/>
  <text x="400" y="350" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">
    ML Models (SQL Functions)
  </text>
  <text x="290" y="370" font-family="Arial, sans-serif" font-size="10" fill="#555">
    • READMISSION_RISK_PREDICTOR
  </text>
  <text x="290" y="390" font-family="Arial, sans-serif" font-size="10" fill="#555">
    • HEALTH_OUTCOME_PREDICTOR
  </text>
  <text x="290" y="410" font-family="Arial, sans-serif" font-size="10" fill="#555">
    • SOCIAL_RISK_STRATIFICATION
  </text>
  <text x="290" y="430" font-family="Arial, sans-serif" font-size="9" fill="#777">
    (Random Forest + Logistic
  </text>
  <text x="290" y="445" font-family="Arial, sans-serif" font-size="9" fill="#777">
    Regression for Healthcare)
  </text>
  
  <!-- Cortex Search Details -->
  <rect x="530" y="330" width="240" height="130" rx="5" fill="#FEF5E7" stroke="#F39C12" stroke-width="2"/>
  <text x="650" y="350" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">
    Cortex Search Services
  </text>
  <text x="540" y="370" font-family="Arial, sans-serif" font-size="10" fill="#555">
    • CLINICAL_NOTES_SEARCH
  </text>
  <text x="540" y="390" font-family="Arial, sans-serif" font-size="10" fill="#555">
    • CARE_PLANS_SEARCH
  </text>
  <text x="540" y="410" font-family="Arial, sans-serif" font-size="10" fill="#555">
    • HEALTH_POLICIES_SEARCH
  </text>
  <text x="540" y="430" font-family="Arial, sans-serif" font-size="9" fill="#777">
    (Vector + Keyword Hybrid Search
  </text>
  <text x="540" y="445" font-family="Arial, sans-serif" font-size="9" fill="#777">
    for Clinical Documentation)
  </text>
  
  <!-- Arrows to Snowflake -->
  <line x1="150" y1="460" x2="250" y2="500" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="400" y1="460" x2="400" y2="500" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="650" y1="460" x2="550" y2="500" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Snowflake Data Platform -->
  <rect x="250" y="500" width="300" height="80" rx="5" fill="#29B5E8" stroke="#1a7a9e" stroke-width="3"/>
  <text x="400" y="530" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
    Snowflake Data Platform
  </text>
  <text x="400" y="555" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
    9 Tables | 336K+ Rows | 3 Schemas
  </text>
  <text x="400" y="570" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
    (RAW, ANALYTICS, ML_MODELS)
  </text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333"/>
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="20" y="590" width="760" height="1" fill="#ccc"/>
  <text x="400" y="595" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#888">
    Honor Health SDOH and Value-Based Care Intelligence | 3 Semantic Views • 3 ML Models • 3 Search Services
  </text>
</svg>

